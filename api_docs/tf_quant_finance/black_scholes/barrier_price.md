<!--
This file is generated by a tool. Do not edit directly.
For open-source contributions the docs will be updated automatically.
-->

*Last updated: 2020-07-01.*

<div itemscope itemtype="http://developers.google.com/ReferenceObject">
<meta itemprop="name" content="tf_quant_finance.black_scholes.barrier_price" />
<meta itemprop="path" content="Stable" />
</div>

# tf_quant_finance.black_scholes.barrier_price

<!-- Insert buttons and diff -->

<table class="tfo-notebook-buttons tfo-api" align="left">
</table>

<a target="_blank" href="https://github.com/google/tf-quant-finance/blob/master/tf_quant_finance/black_scholes/vanilla_prices.py">View source</a>



Prices barrier options in a Black-Scholes Model.

```python
tf_quant_finance.black_scholes.barrier_price(
    *, volatilities, strikes, expiries, spots, barriers, rebates,
    discount_rates=None, continuous_dividends=None, cost_of_carries=None,
    is_barrier_down=None, is_knock_out=None, is_call_options=None, dtype=None,
    name=None
)
```



<!-- Placeholder for "Used in" -->

Function determines the analytical price for the barriers option. The
computation is done as in [2] where each integral is split into two matrices.
The first matrix contains the algebraic terms and the second matrix contains
the probability distribution terms. Masks are used to filter appropriate terms
for calculating the integral. Then a dot product of each row in the matricies
coupled with the masks work to calculate the prices of the barriers option.

#### Example [2], Page 154

```python
dtype = np.float32
discount_rates = np.array([.08, .08])
continuous_dividends = np.array([.04, .04])
spots = np.array([100., 100.])
strikes = np.array([90., 90.])
barriers = np.array([95. 95.])
rebates = np.array([3. 3.])
volatilities = np.array([.25, .25])
expiries = np.array([.5, .5])
barriers_type = np.array([5, 1])
is_barrier_down = np.array([True, False])
is_knock_out = np.array([False, False])
is_call_option = np.array([True, True])

price = price_barriers_option(
  discount_rates, continuous_dividends, spots, strikes,
  barriers, rebates, volatilities,
  expiries, is_barrier_down, is_knock_out, is_call_options)

# Expected output
#  `Tensor` with values [9.024, 7.7627]
```

#### References

[1]: Lee Clewlow, Javier Llanos, Chris Strickland, Caracas Venezuela
Pricing Exotic Options in a Black-Scholes World, 1994
https://warwick.ac.uk/fac/soc/wbs/subjects/finance/research/wpaperseries/1994/94-54.pdf

[2]: Espen Gaarder Haug, The Complete Guide to Option Pricing Formulas,
2nd Edition, 1997

#### Args:


* <b>`volatilities`</b>: Real `Tensor` of any shape and dtype. The volatilities to
  expiry of the options to price.
* <b>`strikes`</b>: A real `Tensor` of the same dtype and compatible shape as
  `volatilities`. The strikes of the options to be priced.
* <b>`expiries`</b>: A real `Tensor` of same dtype and compatible shape as
  `volatilities`. The expiry of each option. The units should be such that
  `expiry * volatility**2` is dimensionless.
* <b>`spots`</b>: A real `Tensor` of any shape that broadcasts to the shape of the
  `volatilities`. The current spot price of the underlying.
* <b>`barriers`</b>: A real `Tensor` of same dtype as the `volatilities` and of the
  shape that broadcasts with `volatilities`. The barriers of each option.
* <b>`rebates`</b>: A real `Tensor` of same dtype as the `volatilities` and of the
  shape that broadcasts with `volatilities`. A rebates contingent upon
  reaching the barriers price.
* <b>`discount_rates`</b>: A real `Tensor` of same dtype as the
  `volatilities` and of the shape that broadcasts with `volatilities`.
  Discount rates, or risk free rates.
  Default value: `None`, equivalent to discount_rate = 0.
* <b>`continuous_dividends`</b>: A real `Tensor` of same dtype as the
  `volatilities` and of the shape that broadcasts with `volatilities`.
  Either this or `cost_of_carries` can be given. If `None`,
  `cost_of_carries` must be supplied.
  Default value: `None`, calculated from `cost_of_carries`.
* <b>`cost_of_carries`</b>: A optional real `Tensor` of same dtype as the
  `volatilities` and of the shape that broadcasts with `volatilities`.
  Cost of storing a physical commodity, the cost of interest paid when
  long, or the opportunity cost, o the cost of paying dividends when short.
  If not `None`, `continuous_dividends` is calculated as r - c,
  where r are the `discount_rates` and c is `cost_of_carries`.
* <b>`is_barrier_down`</b>: A real `Tensor` of `boolean` values and of the shape
  that broadcasts with `volatilities`. True if barrier is below asset
  price at expiration.
  Default value: `True`.
* <b>`is_knock_out`</b>: A real `Tensor` of `boolean` values and of the shape
  that broadcasts with `volatilities`. True if option is knock out
  else false.
  Default value: `True`.
* <b>`is_call_options`</b>: A real `Tensor` of `boolean` values and of the shape
  that broadcasts with `volatilities`. True if option is call else
  false.
  Default value: `True`.
* <b>`dtype`</b>: Optional `tf.DType`. If supplied, the dtype to be used for conversion
  of any supplied non-`Tensor` arguments to `Tensor`.
  Default value: `None` which maps to the default dtype inferred by
  TensorFlow.
* <b>`name`</b>: str. The name for the ops created by this function.
  Default value: `None` which is mapped to the default name `barrier_price`.

#### Returns:


* <b>`option_prices`</b>: A `Tensor` of same shape as `spots`. The approximate price of
the barriers option under black scholes.